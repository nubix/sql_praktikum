\documentclass[11pt,a4paper,DIV=9]{scrartcl}
\usepackage{pgf}
\usepackage{tikz}
\usetikzlibrary{arrows,automata,positioning,shadows}
\usepackage{ngerman}
\usepackage[utf8]{inputenc}
\usepackage{amsmath,amssymb}
\usepackage{tikz-er2}
\usepackage{enumerate}
\usepackage{listings}
\usetikzlibrary{shapes,snakes}
% Schriftart ändern
\renewcommand{\rmdefault}{ppl}
%Möglichkeit zur Änderung von Überschriften
\usepackage{sectsty}
%Überschrift \section uandern
\definecolor{blue}{RGB}{76 , 92, 153}
\allsectionsfont{\color{blue}}
\paragraphfont{\color{blue}}

%Variable Blattnummer
\newcommand{\blatt}[1]{
  \newcommand{\blattnr}{#1}
}
%Aufgabe und Aufgabenteil definieren
\newcounter{temp}
\newcommand{\aufgabe}[1]{
  \setcounter{temp}{\value{subsection}}
  \setcounter{subsection}{#1}
  \addtocounter{subsection}{-1}
  \subsection{Aufgabe}
  \setcounter{subsection}{\value{temp}}
}
\newcommand{\teil}[2][]{
  \subsubsection*{#2) #1}
}
\renewcommand{\author}[1]{\renewcommand{\author}{#1}}
\renewcommand{\title}[1]{\renewcommand{\title}{#1}}
\newcommand{\makehomeworktitle}{
  \begin{minipage}[t]{6.5cm}
    \sf{\author}
  \end{minipage}
  \begin{minipage}[t]{6.5cm}
    \begin{flushright}
      \sf{\title\\\today}
    \end{flushright}
  \end{minipage}
  \\[0.2cm]
  \begin{center}
    \sf{
      \color{blue}{
        \LARGE{Three degrees of Heath Ledger \blattnr}
      }
    }
  \end{center}
  \vspace{0.1cm}
}

%%%%%%%%%%%%%%%%%%%%%%%%
%%% Statisch
\author{{[}4131658{]} Jan Germann \\{[}4054962{]} Christian Ratz\\Übungsgruppe 1}
\title{SQL Praktikum}

%%% Auf jedes Hausaufgabenblatt anpassen
\blatt{4}
%%%%%%%%%%%%%%%%%%%%%%%%
\setcounter{section}{\blattnr}

\definecolor{dkgreen}{rgb}{0,0.6,0}
\definecolor{gray}{rgb}{0.5,0.5,0.5}
\definecolor{mauve}{rgb}{0.58,0,0.82}

\lstset{ 
  basicstyle=\footnotesize\ttfamily,
  language=sql,                % the language of the code
  numbers=left,
  numberstyle=\tiny\color{gray},
  keywordstyle=\color{blue},          % keyword style
  commentstyle=\color{dkgreen},       % comment style
  stringstyle=\color{mauve}}

\begin{document}
\makehomeworktitle
 \aufgabe{1}
 \begin{enumerate}[a.]
 \item\
 \begin{lstlisting}
 SELECT TABNAME
 FROM SYSCAT.TABLES 
 WHERE TABSCHEMA = 'IMDB'  
 \end{lstlisting}
 
 \item\ 
 \begin{lstlisting}
 SELECT * 
 FROM SYSCAT.COLUMNS 
 WHERE TABSCHEMA = 'IMDB' 
 AND TABNAME = 'MOVIES'
 \end{lstlisting} 
 
 \item\
 \begin{lstlisting}
CREATE TABLE tv_movies_tmp (
TITLE_ID varchar (400),
TITLE_TYPE varchar (100),
TITLE_TITLE varchar (400),
TITLE_YEAR int (4),
TITLE_NUMERAL int (4),
TITLE_SUSPENDED decimal (1),
TITLE_ATTRIBUTES varchar (400),
EPISODE_SERIES varchar (400),
EPISODE_TITLE varchar (400),
EPISODE_TITLE_NUMERAL int (4),
EPISODE_SEASON int (4),
EPISODE_EPISODE int (4),
EPISODE_DATE date (4),
YEAR_RANGE varchar(100));
 \end{lstlisting}
 \end{enumerate}
 \aufgabe{2}
 \aufgabe{3}
 \begin{enumerate}[a.]
 \item
 \item
 \end{enumerate}
 \aufgabe{4}
 \aufgabe{5}
 \aufgabe{6}
 \aufgabe{7}
 \aufgabe{8}
 \aufgabe{9}
 \aufgabe{10}
\end{document}

